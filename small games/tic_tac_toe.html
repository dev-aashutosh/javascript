<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe</title>
    <script>
        localStorage.setItem("counter", 0)

        function tictac(c1) {
            data = c1.value
            var chance = parseInt(localStorage.getItem("counter"));

            if (data == "_" && chance % 2 == 0) {
                c1.value = "x";
                localStorage.setItem("counter", ++chance);
            }

            else if (data == "_" && chance % 2 != 0) {
                c1.value = "o";
                localStorage.setItem("counter", ++chance);
            }

            else {
                alert("Illegal move");
            }

            if (chance == 9) {
                checkWin()
            }
        }

        function checkWin() {
            var c1 = document.getElementsByName("val");

            for (let i = 0; i < 9; i += 3) {
                if (c1[i].value === "x" && c1[i + 1].value === "x" && c1[i + 2].value === "x") {
                    alert("Player X wins!");
                    return;
                }
            }

            for (let i = 0; i < 3; i++) {
                if (c1[i].value === "x" && c1[i + 3].value === "x" && c1[i + 6].value === "x") {
                    alert("Player X wins!");
                    return;
                }
            }

            if ((c1[0].value === "x" && c1[4].value === "x" && c1[8].value === "x") ||
                (c1[2].value === "x" && c1[4].value === "x" && c1[6].value === "x")) {
                alert("Player X wins!");
                return;
            }

            for (let i = 0; i < 9; i += 3) {
                if (c1[i].value === "o" && c1[i + 1].value === "o" && c1[i + 2].value === "o") {
                    alert("Player O wins!");
                    return;
                }
            }

            for (let i = 0; i < 3; i++) {
                if (c1[i].value === "o" && c1[i + 3].value === "o" && c1[i + 6].value === "o") {
                    alert("Player O wins!");
                    return;
                }
            }

            if ((c1[0].value === "o" && c1[4].value === "o" && c1[8].value === "o") ||
                (c1[2].value === "o" && c1[4].value === "o" && c1[6].value === "o")) {
                alert("Player O wins!");
                return;
            }

            if (localStorage.getItem("counter") == 9) {
                alert("It's a draw!");
            }
        }
    </script>
</head>


<body>
    <input type="button" name="val" id="" value="_" onclick="tictac(this)">
    <input type="button" name="val" id="" value="_" onclick="tictac(this)">
    <input type="button" name="val" id="" value="_" onclick="tictac(this)"><br>
    <input type="button" name="val" id="" value="_" onclick="tictac(this)">
    <input type="button" name="val" id="" value="_" onclick="tictac(this)">
    <input type="button" name="val" id="" value="_" onclick="tictac(this)"><br>
    <input type="button" name="val" id="" value="_" onclick="tictac(this)">
    <input type="button" name="val" id="" value="_" onclick="tictac(this)">
    <input type="button" name="val" id="" value="_" onclick="tictac(this)">
</body>

</html>